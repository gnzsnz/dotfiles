#!/usr/bin/env bash
# https://github.com/scop/bash-completion/blob/main/README.md


# pass https://www.passwordstore.org/
# if [ "$(which brew)" ] && [ -f "$(brew --prefix)/etc/bash_completion.d/pass" ]; then
#     # shellcheck disable=SC1091
#     source "$(brew --prefix)/etc/bash_completion.d/pass"

# elif [ -f "/usr/share/bash-completion/completions/pass" ]; then
# 		source /usr/share/bash-completion/completions/pass
# fi
# if [ -f "/opt/homebrew/etc/profile.d/bash_completion.sh" ]; then
#    # shellcheck source=/dev/null
#    source "/opt/homebrew/etc/profile.d/bash_completion.sh"
# fi

# pip bash completion start
if [ "$(python3 -m pip 2> /dev/null)" ]; then
   if [ -f ~/.config/bash_completion.d/pip-completion.sh ]; then
      # shellcheck source=/dev/null
      source ~/.config/bash_completion.d/pip-completion.sh
   else
      eval "$(python3 -m pip completion --bash)"
   fi
fi
# pip bash completion end

# pipx
if command -v pipx &> /dev/null; then
   if [ -f ~/.config/bash_completion.d/pipx-completion.sh ]; then
      # shellcheck source=/dev/null
      source ~/.config/bash_completion.d/pipx-completion.sh
   else
      eval "$(register-python-argcomplete pipx)"
   fi
fi
# end pipx

# poetry
if command -v poetry &> /dev/null; then
   if [ -f ~/.config/bash_completion.d/poetry-completion.sh ]; then
      # shellcheck source=/dev/null
      source ~/.config/bash_completion.d/poetry-completion.sh
   else
      eval "$(poetry completions bash)"
   fi
fi
# end poetry

# ruff completion
if command -v ruff &> /dev/null; then
   if [ -f ~/.config/bash_completion.d/ruff-completion.sh ]; then
      # shellcheck source=/dev/null
      source ~/.config/bash_completion.d/ruff-completion.sh
   else
      eval "$(ruff generate-shell-completion bash)"
   fi
fi
# end ruff
